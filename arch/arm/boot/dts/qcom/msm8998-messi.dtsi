/* Copyright (c) 2016, Motorola Mobility Inc. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

/*
 * Assuming there will be NO more Messi boards built with V1 MSM parts
 * beyond the small amount of early EVT1 boards, all future Messi dts
 * should directly include this file instead of msm8998-nash-common.dtsi,
 * though common dt changes could go to msm8998-nash-common.dtsi
 */

#include "msm8998-v2.dtsi"
#include "msm8998-moto-common.dtsi"
#include "dsi-panel-mot-smd-601-1080p-messie-cmd.dtsi"
#include "dsi-panel-mot-tianma-601-1080p-messie-cmd.dtsi"
#include "msm8998-messi-audio.dtsi"

/ {
	model = "Messi";
	compatible = "qcom,msm8998-messi", "qcom,msm8998-moto",
			"qcom,msm8998";

	aliases {
		/delete-property/ spi1;
	};
};

&i2c_7 {
	tps61280@75 {
		compatible = "ti,tps61280";
		reg = <0x75>;
		ti,config = <0x0D>;
		ti,vout-floor = <0x0D>;
		ti,vout-roof = <0x19>;
		ti,ilim = <0x0F>;
	};

	tmp108@49 {
		compatible = "ti,tmp108";
		reg = <0x49>;
		interrupt-parent = <&tlmm>;
		gpios = <&tlmm 1 0>;

		pinctrl-names = "default";
		pinctrl-0 = <&tmp108_2_irq_default>;
		label = "msm_tmp108";
	};
};

&soc {
	alsa_to_h2w {
	status = "disabled";
	};

	qcom,msm-thermal {
		qcom,config-info = "messi";
	};
	/delete-node/ spi@c175000;
};

&tlmm {
	/delete-node/ spi_1;  /* delete spi_1 node in tlmm */

	tmp108_2_irq {
		tmp108_2_irq_default: default {
			mux {
				pins = "gpio1";
				function = "gpio";
			};
			config {
				pins = "gpio1";
				drive-strength = <2>;
				bias-pull-up;
			};
		};
	};
};

&red_led {
	linux,name = "charging";
	/delete-property/ linux,default-trigger;
	qcom,ramp-step-ms = <100>;
	qcom,start-idx = <0>;
	qcom,idx-len = <42>;
	qcom,duty-pcts =
		[00 05 0a 0f 14 19 1e 23 28 2d 32 37 3c 41 46 4b 50 55 5a 5f 64
		64 5f 5a 55 50 4b 46 41 3c 37 32 2d 28 23 1e 19 14 0f 0a 05 00];
	qcom,use-blink;
};

/delete-node/ &green_led;
/delete-node/ &blue_led;

&mot_batterydata {
	qcom,batt-id-range-pct = <15>;
	df-serialnum = "SB18C20118";
	#include "batterydata-js40-scud-pm660.dtsi"
	#include "batterydata-js40-swd-pm660.dtsi"
};

&pmi8998_fg {
	qcom,battery-data = <&mot_batterydata>;
	qcom,fg-cutoff-voltage = <3200>;
	qcom,fg-empty-voltage = <3000>;
	qcom,fg-chg-term-current = <100>;
	qcom,fg-sys-term-current = <(-200)>;
	qcom,battery-thermal-coefficients = [9d 50 ff];
};

&pmi8998_charger {
	qcom,iterm-ma = <146>;
	qcom,mmi-temp-zones = <0 4400 529 0>,
				<10 4200 1323 529>,
				<15 0 1323 1323>,
				<45 4250 3000 2000>,
				<60 4200 2000 0>;
};

&mdss_dsi0 {
	qcom,dsi-pref-prim-pan = <&mot_smd_601_1080p_cmd_v0>;
};
